
<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            margin: 0;
            background-color: #444;
        }
        canvas {
            display: block; 
            margin:0 auto; 
        }        
    </style>
    <script src="assets/app.js?123"></script>
    <script type="text/javascript">
        const main = function() {
            window.stuff = {};

            var tileset1 = new Image();
            tileset1.src = "assets/tilesets_a/tropical.png";
            window.stuff["tileset_tropical"] = tileset1;

            var tileset2 = new Image();
            tileset2.src = "assets/tilesets_a/sand.png";
            window.stuff["tileset_sand"] = tileset2;

            // Create Canvas
            var canvas = document.createElement('canvas');
            canvas.id = "map";
            canvas.width = 1920;
            canvas.height = 1080;
            canvas.style.zIndex = 8;
            // canvas.style.border = "1px solid";

            // Put canvas on page
            var body = document.getElementsByTagName("body")[0];
            body.appendChild(canvas);

            
            // Fetch map data from server
            let url = 'http://localhost:8000/';

            fetch(url)
                .then(res => res.json())
                .then(content => {
                    // Draw Tilemap
                    drawTileMap(content.grid);
                })
                .catch(err => { throw err });
        };
    </script>    
</head>
<body>


<script>
document.addEventListener("DOMContentLoaded", function() {
  main()
});
</script>
</body>
</html>