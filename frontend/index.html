
<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            margin: 0;
            background-color: #333;
            color: #fff;
        }
        canvas {
            display: block; 
            margin:0 auto; 
        }        
    </style>
    <script src="assets/app.js?2"></script>
    <script type="text/javascript">
        const main = function() {
            window.stuff = {};

            var tileset1 = new Image();
            tileset1.src = "assets/tilesets_a/tropical.png";
            window.stuff["tileset_tropical"] = tileset1;

            var tileset2 = new Image();
            tileset2.src = "assets/tilesets_a/sand.png";
            window.stuff["tileset_sand"] = tileset2;

            var tileset3 = new Image();
            tileset3.src = "assets/tilesets_a/mixed.png";
            window.stuff["tileset_mixed"] = tileset3;

            // Create Canvas
            var canvas = document.createElement('canvas');
            canvas.id = "map";
            canvas.width = 1920;
            canvas.height = 1080;
            canvas.style.zIndex = 8;

            // Put canvas on page
            var body = document.getElementById("mapArea");
            body.appendChild(canvas);

            // Fetch map data from server
            let url = 'http://localhost:8000/';

            fetch(url)
                .then(res => res.json())
                .then(content => {
                    // Draw Tilemap
                    drawTileMap(content.grid);

                    drawLables(content.labels);

                    printCountryInfo(content.country_info);
                })
                .catch(err => { throw err });
        };
    </script>    
</head>
<body>
    <div id="mapArea"></div>
    <div id="countryInfoArea"></div>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
    main()
    });
    </script>
</body>
</html>